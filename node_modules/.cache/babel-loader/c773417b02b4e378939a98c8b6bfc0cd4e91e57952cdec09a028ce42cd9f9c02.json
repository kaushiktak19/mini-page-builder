{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Desktop\\\\mini-page-builder\\\\src\\\\components\\\\ElementWrapper\\\\ElementWrapper.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect } from 'react';\nimport './elementWrapper.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ElementWrapper = ({\n  element,\n  updateBoardElement,\n  setSelectedElement,\n  selectedElement,\n  children\n}) => {\n  _s();\n  const elementRef = useRef(null);\n  useEffect(() => {\n    return () => {\n      setSelectedElement(null);\n    };\n  }, [setSelectedElement]);\n  const handleMouseDown = e => {\n    setSelectedElement(element);\n    const initialX = e.clientX;\n    const initialY = e.clientY;\n    const initialElementX = parseInt(element.config.x, 10);\n    const initialElementY = parseInt(element.config.y, 10);\n    const handleMouseMove = moveEvent => {\n      const deltaX = moveEvent.clientX - initialX;\n      const deltaY = moveEvent.clientY - initialY;\n      updateBoardElement(element.id, {\n        ...element.config,\n        x: initialElementX + deltaX,\n        y: initialElementY + deltaY\n      });\n    };\n    const handleMouseUp = () => {\n      window.removeEventListener('mousemove', handleMouseMove);\n      window.removeEventListener('mouseup', handleMouseUp);\n    };\n    window.addEventListener('mousemove', handleMouseMove);\n    window.addEventListener('mouseup', handleMouseUp);\n  };\n  const isSelected = () => (selectedElement === null || selectedElement === void 0 ? void 0 : selectedElement.id) === element.id;\n  const style = {\n    position: 'absolute',\n    left: `${element.config.x}px`,\n    top: `${element.config.y}px`,\n    cursor: isSelected() ? 'grabbing' : 'grab'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: elementRef,\n    className: `ElementWrapper ${isSelected() ? 'ElementWrapper__active' : ''}`,\n    style: style,\n    onMouseDown: handleMouseDown,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(ElementWrapper, \"CKe/C9l/PZDcdMrjDfTWxieUegY=\");\n_c = ElementWrapper;\nexport default ElementWrapper;\nvar _c;\n$RefreshReg$(_c, \"ElementWrapper\");","map":{"version":3,"names":["React","useRef","useEffect","jsxDEV","_jsxDEV","ElementWrapper","element","updateBoardElement","setSelectedElement","selectedElement","children","_s","elementRef","handleMouseDown","e","initialX","clientX","initialY","clientY","initialElementX","parseInt","config","x","initialElementY","y","handleMouseMove","moveEvent","deltaX","deltaY","id","handleMouseUp","window","removeEventListener","addEventListener","isSelected","style","position","left","top","cursor","ref","className","onMouseDown","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Asus/Desktop/mini-page-builder/src/components/ElementWrapper/ElementWrapper.js"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\r\nimport './elementWrapper.css';\r\n\r\nconst ElementWrapper = ({ element, updateBoardElement, setSelectedElement, selectedElement, children }) => {\r\n  const elementRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      setSelectedElement(null);\r\n    };\r\n  }, [setSelectedElement]);\r\n\r\n  const handleMouseDown = (e) => {\r\n    setSelectedElement(element);\r\n    const initialX = e.clientX;\r\n    const initialY = e.clientY;\r\n    const initialElementX = parseInt(element.config.x, 10);\r\n    const initialElementY = parseInt(element.config.y, 10);\r\n\r\n    const handleMouseMove = (moveEvent) => {\r\n      const deltaX = moveEvent.clientX - initialX;\r\n      const deltaY = moveEvent.clientY - initialY;\r\n\r\n      updateBoardElement(element.id, {\r\n        ...element.config,\r\n        x: initialElementX + deltaX,\r\n        y: initialElementY + deltaY,\r\n      });\r\n    };\r\n\r\n    const handleMouseUp = () => {\r\n      window.removeEventListener('mousemove', handleMouseMove);\r\n      window.removeEventListener('mouseup', handleMouseUp);\r\n    };\r\n\r\n    window.addEventListener('mousemove', handleMouseMove);\r\n    window.addEventListener('mouseup', handleMouseUp);\r\n  };\r\n\r\n  const isSelected = () => selectedElement?.id === element.id;\r\n\r\n  const style = {\r\n    position: 'absolute',\r\n    left: `${element.config.x}px`,\r\n    top: `${element.config.y}px`,\r\n    cursor: isSelected() ? 'grabbing' : 'grab',\r\n  };\r\n\r\n  return (\r\n    <div\r\n      ref={elementRef}\r\n      className={`ElementWrapper ${isSelected() ? 'ElementWrapper__active' : ''}`}\r\n      style={style}\r\n      onMouseDown={handleMouseDown}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ElementWrapper;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAChD,OAAO,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9B,MAAMC,cAAc,GAAGA,CAAC;EAAEC,OAAO;EAAEC,kBAAkB;EAAEC,kBAAkB;EAAEC,eAAe;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACzG,MAAMC,UAAU,GAAGX,MAAM,CAAC,IAAI,CAAC;EAE/BC,SAAS,CAAC,MAAM;IACd,OAAO,MAAM;MACXM,kBAAkB,CAAC,IAAI,CAAC;IAC1B,CAAC;EACH,CAAC,EAAE,CAACA,kBAAkB,CAAC,CAAC;EAExB,MAAMK,eAAe,GAAIC,CAAC,IAAK;IAC7BN,kBAAkB,CAACF,OAAO,CAAC;IAC3B,MAAMS,QAAQ,GAAGD,CAAC,CAACE,OAAO;IAC1B,MAAMC,QAAQ,GAAGH,CAAC,CAACI,OAAO;IAC1B,MAAMC,eAAe,GAAGC,QAAQ,CAACd,OAAO,CAACe,MAAM,CAACC,CAAC,EAAE,EAAE,CAAC;IACtD,MAAMC,eAAe,GAAGH,QAAQ,CAACd,OAAO,CAACe,MAAM,CAACG,CAAC,EAAE,EAAE,CAAC;IAEtD,MAAMC,eAAe,GAAIC,SAAS,IAAK;MACrC,MAAMC,MAAM,GAAGD,SAAS,CAACV,OAAO,GAAGD,QAAQ;MAC3C,MAAMa,MAAM,GAAGF,SAAS,CAACR,OAAO,GAAGD,QAAQ;MAE3CV,kBAAkB,CAACD,OAAO,CAACuB,EAAE,EAAE;QAC7B,GAAGvB,OAAO,CAACe,MAAM;QACjBC,CAAC,EAAEH,eAAe,GAAGQ,MAAM;QAC3BH,CAAC,EAAED,eAAe,GAAGK;MACvB,CAAC,CAAC;IACJ,CAAC;IAED,MAAME,aAAa,GAAGA,CAAA,KAAM;MAC1BC,MAAM,CAACC,mBAAmB,CAAC,WAAW,EAAEP,eAAe,CAAC;MACxDM,MAAM,CAACC,mBAAmB,CAAC,SAAS,EAAEF,aAAa,CAAC;IACtD,CAAC;IAEDC,MAAM,CAACE,gBAAgB,CAAC,WAAW,EAAER,eAAe,CAAC;IACrDM,MAAM,CAACE,gBAAgB,CAAC,SAAS,EAAEH,aAAa,CAAC;EACnD,CAAC;EAED,MAAMI,UAAU,GAAGA,CAAA,KAAM,CAAAzB,eAAe,aAAfA,eAAe,uBAAfA,eAAe,CAAEoB,EAAE,MAAKvB,OAAO,CAACuB,EAAE;EAE3D,MAAMM,KAAK,GAAG;IACZC,QAAQ,EAAE,UAAU;IACpBC,IAAI,EAAE,GAAG/B,OAAO,CAACe,MAAM,CAACC,CAAC,IAAI;IAC7BgB,GAAG,EAAE,GAAGhC,OAAO,CAACe,MAAM,CAACG,CAAC,IAAI;IAC5Be,MAAM,EAAEL,UAAU,CAAC,CAAC,GAAG,UAAU,GAAG;EACtC,CAAC;EAED,oBACE9B,OAAA;IACEoC,GAAG,EAAE5B,UAAW;IAChB6B,SAAS,EAAE,kBAAkBP,UAAU,CAAC,CAAC,GAAG,wBAAwB,GAAG,EAAE,EAAG;IAC5EC,KAAK,EAAEA,KAAM;IACbO,WAAW,EAAE7B,eAAgB;IAAAH,QAAA,EAE5BA;EAAQ;IAAAiC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV,CAAC;AAACnC,EAAA,CAvDIN,cAAc;AAAA0C,EAAA,GAAd1C,cAAc;AAyDpB,eAAeA,cAAc;AAAC,IAAA0C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}