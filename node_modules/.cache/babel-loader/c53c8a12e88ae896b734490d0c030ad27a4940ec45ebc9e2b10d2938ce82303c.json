{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Desktop\\\\mini-page-builder\\\\src\\\\Canvas.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Modal from './Modal';\nimport './Canvas.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Canvas() {\n  _s();\n  const [elements, setElements] = useState([]);\n  const [modalOpen, setModalOpen] = useState(false);\n  const [tempElement, setTempElement] = useState(null);\n  const [selectedElement, setSelectedElement] = useState(null);\n  const [draggingElement, setDraggingElement] = useState(null);\n  const [dragging, setDragging] = useState(false);\n  useEffect(() => {\n    const handleKeyDown = event => {\n      if (selectedElement) {\n        if (event.key === 'Enter') {\n          setTempElement(selectedElement);\n          setModalOpen(true);\n        } else if (event.key === 'Delete') {\n          handleDeleteElement(selectedElement.id);\n        }\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [selectedElement]);\n  const handleDrop = event => {\n    event.preventDefault();\n    const elementType = event.dataTransfer.getData('text/plain');\n    const {\n      clientX,\n      clientY\n    } = event;\n    const newElement = {\n      id: Date.now(),\n      type: elementType,\n      x: clientX,\n      y: clientY,\n      text: 'Label',\n      fontSize: '16px',\n      fontWeight: 'normal'\n    };\n    setTempElement(newElement);\n    setModalOpen(true);\n  };\n  const handleSaveChanges = config => {\n    const updatedElement = {\n      ...tempElement,\n      ...config\n    };\n    setElements([...elements, updatedElement]);\n    setModalOpen(false);\n    setTempElement(null);\n  };\n  const handleDragStart = (event, element) => {\n    setDraggingElement(element);\n    setDragging(true);\n  };\n  const handleDrag = event => {\n    if (draggingElement) {\n      setDraggingElement({\n        ...draggingElement,\n        x: event.clientX,\n        y: event.clientY\n      });\n    }\n  };\n  const handleDragEnd = event => {\n    if (draggingElement) {\n      const updatedElements = elements.map(el => el.id === draggingElement.id ? {\n        ...draggingElement\n      } : el);\n      setElements(updatedElements);\n      setDraggingElement(null);\n      setDragging(false);\n    }\n  };\n  const handleDeleteElement = id => {\n    const updatedElements = elements.filter(el => el.id !== id);\n    setElements(updatedElements);\n    if ((selectedElement === null || selectedElement === void 0 ? void 0 : selectedElement.id) === id) {\n      setSelectedElement(null);\n    }\n  };\n  const handleElementClick = element => {\n    setSelectedElement(element);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"canvas\",\n    onDragOver: e => e.preventDefault(),\n    onDrop: handleDrop,\n    children: [elements.map((el, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `element ${(selectedElement === null || selectedElement === void 0 ? void 0 : selectedElement.id) === el.id ? 'selected' : ''}`,\n      style: {\n        left: dragging && (draggingElement === null || draggingElement === void 0 ? void 0 : draggingElement.id) === el.id ? draggingElement.x : el.x,\n        top: dragging && (draggingElement === null || draggingElement === void 0 ? void 0 : draggingElement.id) === el.id ? draggingElement.y : el.y,\n        opacity: dragging && (draggingElement === null || draggingElement === void 0 ? void 0 : draggingElement.id) === el.id ? 0.5 : 1,\n        position: 'absolute'\n      },\n      draggable: true,\n      onDragStart: event => handleDragStart(event, el),\n      onDrag: event => handleDrag(event),\n      onDragEnd: event => handleDragEnd(event),\n      onClick: () => handleElementClick(el),\n      children: el.text\n    }, el.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }, this)), dragging && draggingElement && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"element\",\n      style: {\n        left: draggingElement.x,\n        top: draggingElement.y,\n        opacity: 1,\n        position: 'absolute'\n      },\n      children: draggingElement.text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }, this), modalOpen && /*#__PURE__*/_jsxDEV(Modal, {\n      element: tempElement,\n      onSaveChanges: handleSaveChanges,\n      onClose: () => setModalOpen(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 5\n  }, this);\n}\n_s(Canvas, \"qtDNf6cT7KU4eXuufcVFVqOY4kY=\");\n_c = Canvas;\nexport default Canvas;\nvar _c;\n$RefreshReg$(_c, \"Canvas\");","map":{"version":3,"names":["React","useState","useEffect","Modal","jsxDEV","_jsxDEV","Canvas","_s","elements","setElements","modalOpen","setModalOpen","tempElement","setTempElement","selectedElement","setSelectedElement","draggingElement","setDraggingElement","dragging","setDragging","handleKeyDown","event","key","handleDeleteElement","id","window","addEventListener","removeEventListener","handleDrop","preventDefault","elementType","dataTransfer","getData","clientX","clientY","newElement","Date","now","type","x","y","text","fontSize","fontWeight","handleSaveChanges","config","updatedElement","handleDragStart","element","handleDrag","handleDragEnd","updatedElements","map","el","filter","handleElementClick","className","onDragOver","e","onDrop","children","index","style","left","top","opacity","position","draggable","onDragStart","onDrag","onDragEnd","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onSaveChanges","onClose","_c","$RefreshReg$"],"sources":["C:/Users/Asus/Desktop/mini-page-builder/src/Canvas.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Modal from './Modal';\nimport './Canvas.css';\n\nfunction Canvas() {\n  const [elements, setElements] = useState([]);\n  const [modalOpen, setModalOpen] = useState(false);\n  const [tempElement, setTempElement] = useState(null);\n  const [selectedElement, setSelectedElement] = useState(null);\n  const [draggingElement, setDraggingElement] = useState(null);\n  const [dragging, setDragging] = useState(false);\n\n  useEffect(() => {\n    const handleKeyDown = (event) => {\n      if (selectedElement) {\n        if (event.key === 'Enter') {\n          setTempElement(selectedElement);\n          setModalOpen(true);\n        } else if (event.key === 'Delete') {\n          handleDeleteElement(selectedElement.id);\n        }\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [selectedElement]);\n\n  const handleDrop = (event) => {\n    event.preventDefault();\n    const elementType = event.dataTransfer.getData('text/plain');\n    const { clientX, clientY } = event;\n\n    const newElement = {\n      id: Date.now(),\n      type: elementType,\n      x: clientX,\n      y: clientY,\n      text: 'Label',\n      fontSize: '16px',\n      fontWeight: 'normal'\n    };\n\n    setTempElement(newElement);\n    setModalOpen(true);\n  };\n\n  const handleSaveChanges = (config) => {\n    const updatedElement = {\n      ...tempElement,\n      ...config\n    };\n\n    setElements([...elements, updatedElement]);\n    setModalOpen(false);\n    setTempElement(null);\n  };\n\n  const handleDragStart = (event, element) => {\n    setDraggingElement(element);\n    setDragging(true);\n  };\n\n  const handleDrag = (event) => {\n    if (draggingElement) {\n      setDraggingElement({\n        ...draggingElement,\n        x: event.clientX,\n        y: event.clientY\n      });\n    }\n  };\n\n  const handleDragEnd = (event) => {\n    if (draggingElement) {\n      const updatedElements = elements.map((el) =>\n        el.id === draggingElement.id ? { ...draggingElement } : el\n      );\n      setElements(updatedElements);\n      setDraggingElement(null);\n      setDragging(false);\n    }\n  };\n\n  const handleDeleteElement = (id) => {\n    const updatedElements = elements.filter((el) => el.id !== id);\n    setElements(updatedElements);\n    if (selectedElement?.id === id) {\n      setSelectedElement(null);\n    }\n  };\n\n  const handleElementClick = (element) => {\n    setSelectedElement(element);\n  };\n\n  return (\n    <div\n      className='canvas'\n      onDragOver={(e) => e.preventDefault()}\n      onDrop={handleDrop}\n    >\n      {elements.map((el, index) => (\n        <div\n          key={el.id}\n          className={`element ${selectedElement?.id === el.id ? 'selected' : ''}`}\n          style={{\n            left: dragging && draggingElement?.id === el.id ? draggingElement.x : el.x,\n            top: dragging && draggingElement?.id === el.id ? draggingElement.y : el.y,\n            opacity: dragging && draggingElement?.id === el.id ? 0.5 : 1,\n            position: 'absolute'\n          }}\n          draggable={true}\n          onDragStart={(event) => handleDragStart(event, el)}\n          onDrag={(event) => handleDrag(event)}\n          onDragEnd={(event) => handleDragEnd(event)}\n          onClick={() => handleElementClick(el)}\n        >\n          {el.text}\n        </div>\n      ))}\n\n      {dragging && draggingElement && (\n        <div\n          className='element'\n          style={{\n            left: draggingElement.x,\n            top: draggingElement.y,\n            opacity: 1,\n            position: 'absolute'\n          }}\n        >\n          {draggingElement.text}\n        </div>\n      )}\n\n      {modalOpen && (\n        <Modal\n          element={tempElement}\n          onSaveChanges={handleSaveChanges}\n          onClose={() => setModalOpen(false)}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default Canvas;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}